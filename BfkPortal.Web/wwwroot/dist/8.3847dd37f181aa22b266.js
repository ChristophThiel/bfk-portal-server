(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DZ53:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),i=u("pMnS"),o=u("Ip0R"),r=u("/7Gs"),c=u("t/Na"),a=u("LvDl"),s=function(){return function(){}}(),p=u("q3Kh"),f=u("+Zhm"),b=u("ds6q"),d="https://bfk-portal.herokuapp.com/api/file/",g=function(){function l(l){this.httpClient=l,this._progress=new b.Subject,this._allFiles=new f.ReplaySubject}return l.prototype.getFiles=function(){var l=this;return this.httpClient.get(d+"all").pipe(Object(p.map)(function(n){console.log(n);var u=[];n.forEach(function(n){var e=n.fileName.split(".")[1],t=new s;t.created=n.created,t.fileName=n.fileName,t.group=l.checkFileGroup(e),t.id=n.id,t.lastModified=n.lastModified,t.ownerId=n.ownerId,t.path=n.path,u.push(t)}),l._allFiles.next(u)})).toPromise()},l.prototype.deleteFile=function(l){return this.httpClient.get(d+"delete/"+l)},l.prototype.upload=function(l,n){var u=this,e=new FormData;e.append("uploadFile",l,l.name);var t=new c.h({enctype:"multipart/form-data"});this.httpClient.request(new c.i("POST",d+"upload",e,{reportProgress:!0,headers:t})).subscribe(function(l){if(console.log(l),n.show(),l.type===c.f.UploadProgress){var e=Math.round(100*l.loaded/l.total);u._progress.next(e)}else l instanceof c.j&&(u._progress.next(0),u._progress.complete(),u.getFiles(),n.hide())})},l.prototype.groupFiles=function(l){var n=this,u=[],e=a.groupBy(l,function(l){var u=l.fileName.split(".")[1];return n.checkFileGroup(u)});for(var t in console.log(e),e)e.hasOwnProperty(t)&&u.push(e[t]);return u},l.prototype.checkFileGroup=function(l){return"docx"===l||"doc"===l?"Word Dateien":"jpeg"===l||"jpg"===l||"png"===l?"Bild Dateien":"xlsx"===l||"csv"===l||"xlsm"===l?"Excel Dateien":"pptx"===l||"ppt"===l?"Powerpoint Dateien":"pdf"===l?"Pdf Dateien":"7z"===l||"zip"===l||"rar"===l?"Zip Dateien":"txt"===l||"rtf"===l?"Text Dateien":"wav"===l||"mp3"===l?"Audio Dateien":"mpg"===l||"avi"===l||"mp4"===l?"Video Dateien":"Andere Dateien"},l.ngInjectableDef=e.T({factory:function(){return new l(e.X(c.c))},token:l,providedIn:"root"}),l}(),h=function(){function l(l){this.fileService=l,this.getModalRef=new e.m,this.progress=0}return l.prototype.ngOnInit=function(){var l=this;this.fileService._progress.subscribe(function(n){console.log(l.progress),l.progress=n},function(l){console.log(l)})},l.prototype.ngAfterViewInit=function(){console.log(this.progressModal),this.getModalRef.emit(this.progressModal)},l}(),m=e.pb({encapsulation:0,styles:[[""]],data:{}});function v(l){return e.Lb(0,[e.Hb(402653184,1,{progressModal:0}),(l()(),e.rb(1,16777216,null,null,10,"div",[["aria-hidden","true"],["aria-labelledby","myBasicModalLabel"],["class","modal fade right"],["mdbModal",""],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick(u)&&t),"keydown.esc"===n&&(t=!1!==e.Bb(l,2).onEsc()&&t),t},null,null)),e.qb(2,4341760,[[1,4],["progressModal",4]],0,r.Kb,[e.k,e.P,e.E,r.F],null,null),(l()(),e.rb(3,0,null,null,8,"div",[["class","modal-dialog modal-side modal-sm modal-bottom-right "],["role","document"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,7,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).hide()&&t),t},null,null)),(l()(),e.rb(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(9,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,1,"mdb-progress",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","'this.progress'"],["max","100"],["min","0"],["type","success"]],[[8,"value",0]],null,null,null,null)),(l()(),e.Jb(11,null,["","%"]))],null,function(l,n){var u=n.component;l(n,10,0,u.progress),l(n,11,0,u.progress)})}var k=u("K52H"),F=function(){function l(l,n){this.fileService=l,this.navbarButtons=n,this.progress=0,this.uploadInput=new e.m,this.groupedFiles=[]}return l.prototype.ngOnInit=function(){var l=this;this.fetchFiles(),this.navbarButtons.changeToDocuments(),this._allFilesSubscription=this.fileService._allFiles.subscribe(function(n){console.log(n),l.groupedFiles=l.fileService.groupFiles(n),console.log(l.groupedFiles)})},l.prototype.fetchFiles=function(){this.fileService.getFiles()},l.prototype.uploadFile=function(){this.fileService.upload(this.file.nativeFile,this.progressModal)},l.prototype.deleteFile=function(l){var n=this;console.log(l),this._deleteFileSubscription=this.fileService.deleteFile(l).subscribe(function(l){n.fetchFiles()})},l.prototype.getModalRef=function(l){console.log(l),this.progressModal=l},l.prototype.onUploadOutput=function(l){console.log(l),"addedToQueue"===l.type&&(this.file=l.file)},l.prototype.showFileName=function(){return null==this.file?"":this.file.name},l.prototype.ngOnDestroy=function(){this._allFilesSubscription.unsubscribe(),null!=this._deleteFileSubscription&&this._deleteFileSubscription.unsubscribe()},l}(),y=e.pb({encapsulation:0,styles:[[""]],data:{}});function w(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-picture-o"]],null,null,null,null,null))],null,null)}function x(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-word-o"]],null,null,null,null,null))],null,null)}function M(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-excel-o"]],null,null,null,null,null))],null,null)}function I(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-powerpoint-o"]],null,null,null,null,null))],null,null)}function z(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-pdf-o"]],null,null,null,null,null))],null,null)}function q(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-zip-o"]],null,null,null,null,null))],null,null)}function P(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-text-o"]],null,null,null,null,null))],null,null)}function D(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-audio-o"]],null,null,null,null,null))],null,null)}function S(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file-video-o"]],null,null,null,null,null))],null,null)}function L(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,0,"i",[["class","fa fa-file"]],null,null,null,null,null))],null,null)}function B(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[""," "])),(l()(),e.rb(3,0,null,null,0,"i",[["class","fa fa-download float-right"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteFile(l.context.$implicit.id)&&e),e},null,null)),(l()(),e.rb(4,0,null,null,0,"i",[["class","fa fa-trash float-right mr-4"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteFile(l.context.$implicit.id)&&e),e},null,null))],null,function(l,n){var u=n.context.$implicit.fileName.split(".")[0];l(n,2,0,u)})}function O(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,21,"h3",[["class","h3-responsive font-weight-bold"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,w)),e.qb(3,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,x)),e.qb(5,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,M)),e.qb(7,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,I)),e.qb(9,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,z)),e.qb(11,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,q)),e.qb(13,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,P)),e.qb(15,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,D)),e.qb(17,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,S)),e.qb(19,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,L)),e.qb(21,16384,null,0,o.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.Jb(22,null,[" "," "])),(l()(),e.rb(23,0,null,null,0,"hr",[["class","hr-dark"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,2,"ul",[["class","list-group mb-3"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,B)),e.qb(26,278528,null,0,o.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,3,0,"Bild Dateien"===n.context.$implicit[0].group),l(n,5,0,"Word Dateien"===n.context.$implicit[0].group),l(n,7,0,"Excel Dateien"===n.context.$implicit[0].group),l(n,9,0,n.context.$implicit[0].group===u.Powerpoint),l(n,11,0,n.context.$implicit[0].group===u.Pdf),l(n,13,0,n.context.$implicit[0].group===u.Zip),l(n,15,0,n.context.$implicit[0].group===u.Text),l(n,17,0,n.context.$implicit[0].group===u.Audio),l(n,19,0,n.context.$implicit[0].group===u.Video),l(n,21,0,n.context.$implicit[0].group===u.Andere),l(n,26,0,n.context.$implicit)},function(l,n){l(n,22,0,n.context.$implicit[0].group)})}function $(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,8,"div",[["class","file-field md-form"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"div",[["class","btn-color"],["floating","true"],["mdbBtn",""],["mdbWavesEffect",""],["size","md"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,3).click(u)&&t),t},null,null)),e.qb(3,16384,null,0,r.Rc,[e.k],null,null),e.qb(4,81920,null,0,r.lb,[e.k,e.E],{size:[0,"size"],floating:[1,"floating"]},null),(l()(),e.rb(5,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-cloud-upload"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,1,"input",[["mdbFileSelect",""],["type","file"]],null,[[null,"uploadOutput"]],function(l,n,u){var e=!0;return"uploadOutput"===n&&(e=!1!==l.component.onUploadOutput(u)&&e),e},null,null)),e.qb(7,212992,null,0,r.Y,[e.B,e.k],{uploadInput:[0,"uploadInput"]},{uploadOutput:"uploadOutput"}),(l()(),e.rb(8,0,null,null,1,"div",[["class","file-path-wrapper mt-3"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,0,"input",[["class","file-path"],["placeholder","Lade ein Dokument hoch"],["type","text"]],[[8,"value",0]],null,null,null,null)),(l()(),e.rb(10,0,null,null,3,"button",[["class","btn btn-color waves-light "],["mdbBtn",""],["mdbWavesEffect",""],["size","sm"]],null,[[null,"click"]],function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==e.Bb(l,11).click(u)&&t),"click"===n&&(t=!1!==i.uploadFile()&&t),t},null,null)),e.qb(11,16384,null,0,r.Rc,[e.k],null,null),e.qb(12,81920,null,0,r.lb,[e.k,e.E],{size:[0,"size"]},null),(l()(),e.Jb(-1,null,["Starte den Upload"])),(l()(),e.rb(14,0,null,null,0,"div",[["class","divider-new"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,O)),e.qb(16,278528,null,0,o.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(17,0,null,null,1,"app-progress-modal",[],null,[[null,"getModalRef"]],function(l,n,u){var e=!0;return"getModalRef"===n&&(e=!1!==l.component.getModalRef(u)&&e),e},v,m)),e.qb(18,4308992,null,0,h,[g],null,{getModalRef:"getModalRef"})],function(l,n){var u=n.component;l(n,4,0,"md","true"),l(n,7,0,u.uploadInput),l(n,12,0,"sm"),l(n,16,0,u.groupedFiles),l(n,18,0)},function(l,n){l(n,9,0,n.component.showFileName())})}function R(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-document-list",[],null,null,null,$,y)),e.qb(1,245760,null,0,F,[g,k.a],null,null)],function(l,n){l(n,1,0)},null)}var _=e.nb("app-document-list",F,R,{},{},[]),j=u("KzlR"),N=u("ZYCi"),E=function(){return function(){}}();u.d(n,"DocumentModuleNgFactory",function(){return J});var J=e.ob(t,[],function(l){return e.yb([e.zb(512,e.j,e.cb,[[8,[i.a,_,j.c,j.d]],[3,e.j],e.x]),e.zb(4608,o.m,o.l,[e.u,[2,o.y]]),e.zb(4608,r.bb,r.bb,[o.c]),e.zb(1073742336,o.b,o.b,[]),e.zb(1073742336,N.p,N.p,[[2,N.v],[2,N.n]]),e.zb(1073742336,E,E,[]),e.zb(1073742336,r.J,r.J,[]),e.zb(1073742336,r.Sc,r.Sc,[]),e.zb(1073742336,r.m,r.m,[]),e.zb(1073742336,r.B,r.B,[]),e.zb(1073742336,r.Lb,r.Lb,[]),e.zb(1073742336,r.N,r.N,[]),e.zb(1073742336,t,t,[]),e.zb(1024,N.l,function(){return[[{path:"",component:F}]]},[])])})}}]);