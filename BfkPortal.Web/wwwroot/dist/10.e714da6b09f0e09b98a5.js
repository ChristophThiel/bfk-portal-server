(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{CoZ7:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),e=function(){return function(){}}(),u=t("pMnS"),r=t("gIcY"),s=t("KzlR"),a=t("/7Gs"),o=t("Ip0R"),c=t("3Owf"),b=function(){function l(l,n){this.appointmentService=l,this.changeDetector=n,this.allTypes=[],this.typeEmitter=new i.m}return l.prototype.ngOnInit=function(){this.fetchTypes()},l.prototype.ngOnChanges=function(l){this.typeGroup=l.typeGroup.currentValue},l.prototype.fetchTypes=function(){var l=this;this._allTypesSubscription=this.appointmentService.getTypes().subscribe(function(n){l.allTypes=[],n.forEach(function(n){l.allTypes.push({value:" ",label:n})}),l.changeDetector.detectChanges(),null!=l.typeGroup.get("type").value&&l.getSelected()})},l.prototype.getSelected=function(){var l=this;this.typeSelect.optionList.options.forEach(function(n){n.wrappedOption.label===l.typeGroup.get("type").value&&(n.selected=!0)})},l.prototype.getType=function(l){this.typeEmitter.emit(l.label)},l.prototype.ngOnDestroy=function(){this._allTypesSubscription.unsubscribe()},l}(),p=i.qb({encapsulation:0,styles:[["mdb-select[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute!important;font-size:.8rem!important;left:15px!important}"]],data:{}});function g(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,5,"div",[["class","col mt-3"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,2,"mdb-select",[["class","colorful-select dropdown-primary"],["id","typeSelect"]],[[8,"highlightFirst",0]],[[null,"selected"],["document","click"]],function(l,n,t){var e=!0,u=l.component;return"document:click"===n&&(e=!1!==i.Cb(l,3).closeSelect(t)&&e),"selected"===n&&(e=!1!==u.getType(t)&&e),e},s.O,s.u)),i.Hb(5120,null,r.j,function(l){return[l]},[a.ic]),i.rb(3,4833280,[[1,4],["typeSelect",4]],0,a.ic,[i.k,i.F,o.c,i.C],{options:[0,"options"],multiple:[1,"multiple"]},{selected:"selected"}),(l()(),i.sb(4,0,null,null,1,"label",[["class","label-color"],["for","typeSelect"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Typ ausw\xe4hlen"]))],function(l,n){l(n,3,0,n.component.allTypes,!1)},function(l,n){l(n,1,0,!1)})}function d(l){return i.Mb(0,[i.Ib(671088640,1,{typeSelect:0}),(l()(),i.sb(1,0,null,null,2,"div",[["style","width: 90%"]],null,null,null,null,null)),(l()(),i.jb(16777216,null,null,1,null,g)),i.rb(3,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,3,0,n.component.allTypes.length>=1)},null)}var h=function(){function l(){}return l.prototype.ngOnInit=function(){},l.prototype.ngOnChanges=function(l){l.titleError&&(this.titleError=l.titleError.currentValue),l.descriptionError&&(this.descriptionError=l.descriptionError.currentValue)},l.prototype.titleChange=function(l){console.log(l),this.titleError=" "},l}(),m=i.qb({encapsulation:0,styles:[[".md-form[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1rem}.md-form[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{color:#e9241d!important}.form-control[_ngcontent-%COMP%]:focus, .md-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-bottom:1px solid #d7ccc8!important;box-shadow:0 1px 0 0 #d7ccc8!important}.md-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:14px}textarea[_ngcontent-%COMP%]:focus ~ .chars[_ngcontent-%COMP%]{margin-right:5%!important}"]],data:{}});function C(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,28,"div",[["style","width: 90%"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,1).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,1).onReset()&&e),e},null,null)),i.rb(1,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(3,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(4,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),i.sb(5,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(7,0,null,null,9,"div",[["class","md-form col"]],null,null,null,null,null)),(l()(),i.sb(8,0,null,null,6,"input",[["class","form-control"],["formControlName","title"],["id","form1"],["mdbInputDirective",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"keydown"],[null,"cut"],[null,"paste"],[null,"drop"]],function(l,n,t){var e=!0,u=l.component;return"input"===n&&(e=!1!==i.Cb(l,9)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==i.Cb(l,9).onTouched()&&e),"compositionstart"===n&&(e=!1!==i.Cb(l,9)._compositionStart()&&e),"compositionend"===n&&(e=!1!==i.Cb(l,9)._compositionEnd(t.target.value)&&e),"focus"===n&&(e=!1!==i.Cb(l,14).onfocus()&&e),"blur"===n&&(e=!1!==i.Cb(l,14).onblur()&&e),"change"===n&&(e=!1!==i.Cb(l,14).onchange()&&e),"input"===n&&(e=!1!==i.Cb(l,14).oniput()&&e),"keydown"===n&&(e=!1!==i.Cb(l,14).onkeydown(t)&&e),"cut"===n&&(e=!1!==i.Cb(l,14).oncut()&&e),"paste"===n&&(e=!1!==i.Cb(l,14).onpaste()&&e),"drop"===n&&(e=!1!==i.Cb(l,14).ondrop()&&e),"change"===n&&(e=!1!==u.titleChange(t)&&e),e},null,null)),i.rb(9,16384,null,0,r.c,[i.F,i.k,[2,r.a]],null,null),i.Hb(1024,null,r.j,function(l){return[l]},[r.c]),i.rb(11,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(13,16384,null,0,r.l,[[4,r.k]],null,null),i.rb(14,13451264,null,0,a.ub,[i.k,i.F,i.C],{mdbInputDirective:[0,"mdbInputDirective"],errorMessage:[1,"errorMessage"],successMessage:[2,"successMessage"]},null),(l()(),i.sb(15,0,null,null,1,"label",[["class",""],["for","form1"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["\xdcberschrift "])),(l()(),i.sb(17,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),i.sb(18,0,null,null,10,"div",[["class","md-form col"]],null,null,null,null,null)),(l()(),i.sb(19,0,null,null,7,"textarea",[["class","md-textarea form-control "],["formControlName","description"],["id","form7 "],["length","300 "],["mdbCharCounter",""],["mdbInputDirective",""],["rows","3"],["type","text "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"change"],[null,"keydown"],[null,"cut"],[null,"paste"],[null,"drop"]],function(l,n,t){var e=!0;return"input"===n&&(e=!1!==i.Cb(l,20)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==i.Cb(l,20).onTouched()&&e),"compositionstart"===n&&(e=!1!==i.Cb(l,20)._compositionStart()&&e),"compositionend"===n&&(e=!1!==i.Cb(l,20)._compositionEnd(t.target.value)&&e),"focus"===n&&(e=!1!==i.Cb(l,25).onfocus()&&e),"blur"===n&&(e=!1!==i.Cb(l,25).onblur()&&e),"change"===n&&(e=!1!==i.Cb(l,25).onchange()&&e),"input"===n&&(e=!1!==i.Cb(l,25).oniput()&&e),"keydown"===n&&(e=!1!==i.Cb(l,25).onkeydown(t)&&e),"cut"===n&&(e=!1!==i.Cb(l,25).oncut()&&e),"paste"===n&&(e=!1!==i.Cb(l,25).onpaste()&&e),"drop"===n&&(e=!1!==i.Cb(l,25).ondrop()&&e),"input"===n&&(e=!1!==i.Cb(l,26).onKeyUp()&&e),"blur"===n&&(e=!1!==i.Cb(l,26).hide()&&e),"focus"===n&&(e=!1!==i.Cb(l,26).show()&&e),e},null,null)),i.rb(20,16384,null,0,r.c,[i.F,i.k,[2,r.a]],null,null),i.Hb(1024,null,r.j,function(l){return[l]},[r.c]),i.rb(22,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(24,16384,null,0,r.l,[[4,r.k]],null,null),i.rb(25,13451264,null,0,a.ub,[i.k,i.F,i.C],{mdbInputDirective:[0,"mdbInputDirective"],errorMessage:[1,"errorMessage"],successMessage:[2,"successMessage"]},null),i.rb(26,81920,null,0,a.t,[i.k,i.F],{length:[0,"length"]},null),(l()(),i.sb(27,0,null,null,1,"label",[["for","form7 "]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Beschreibung"]))],function(l,n){var t=n.component;l(n,1,0,t.miscGroup),l(n,11,0,"title"),l(n,14,0,"",t.titleError," "),l(n,22,0,"description"),l(n,25,0,"",t.descriptionError," "),l(n,26,0,"300 ")},function(l,n){l(n,0,0,i.Cb(n,3).ngClassUntouched,i.Cb(n,3).ngClassTouched,i.Cb(n,3).ngClassPristine,i.Cb(n,3).ngClassDirty,i.Cb(n,3).ngClassValid,i.Cb(n,3).ngClassInvalid,i.Cb(n,3).ngClassPending),l(n,8,0,i.Cb(n,13).ngClassUntouched,i.Cb(n,13).ngClassTouched,i.Cb(n,13).ngClassPristine,i.Cb(n,13).ngClassDirty,i.Cb(n,13).ngClassValid,i.Cb(n,13).ngClassInvalid,i.Cb(n,13).ngClassPending),l(n,19,0,i.Cb(n,24).ngClassUntouched,i.Cb(n,24).ngClassTouched,i.Cb(n,24).ngClassPristine,i.Cb(n,24).ngClassDirty,i.Cb(n,24).ngClassValid,i.Cb(n,24).ngClassInvalid,i.Cb(n,24).ngClassPending)})}var f=t("LvDl"),v=t("UkzC"),y=function(){function l(l){this.changeDetector=l,this.participantsAreOrgs=new i.m,this.maxParticipants=0,this.showOrganisation=!1,this.showUser=!1,this.allUsersMultiSelect=[],this.allOrganisationsMultiSelect=[],this.participantOptions=[{value:1,label:"Organisationen"},{value:2,label:"Mitglieder"}]}return l.prototype.ngOnInit=function(){this.isShift&&(this.maxParticipants=1,this.participantGroup.patchValue({maxParticipants:this.maxParticipants}),this.showUser=!0)},l.prototype.ngAfterViewInit=function(){},l.prototype.ngOnChanges=function(l){l.allUsers&&(this.allUsers=l.allUsers.currentValue,this.showUser&&this.pushUsersToMultiSelect()),l.allOrganisations&&(console.log(this.participantGroup.value),console.log(this.participantGroup.get("participants").value),this.allOrganisations=l.allOrganisations.currentValue,this.showOrganisation&&this.pushOrganisationToMultiSelect()),l.participantGroup&&(this.participantGroup=l.participantGroup.currentValue,console.log(this.participantGroup.value),1===this.participantGroup.get("areParticipantsOrgs").value?this.selectedOption(this.participantOptions[0]):2===this.participantGroup.get("areParticipantsOrgs").value&&this.selectedOption(this.participantOptions[1]))},l.prototype.selectedOption=function(l){"Organisationen"===l.label?(this.pushOrganisationToMultiSelect(),this.showOrganisation=!0,this.showUser=!1):"Mitglieder"===l.label&&(this.pushUsersToMultiSelect(),this.showOrganisation=!1,this.showUser=!0)},l.prototype.pushOrganisationToMultiSelect=function(){var l=this;this.allOrganisationsMultiSelect=[],this.allOrganisations.forEach(function(n){l.allOrganisationsMultiSelect.push({value:n.id,label:n.name})})},l.prototype.pushUsersToMultiSelect=function(){var l=this;this.allUsersMultiSelect=[],this.allUsers.forEach(function(n){l.isShift?(f.includes(n.entitlements,v.b[v.b.UserBwst])||f.includes(n.entitlements,v.b[v.b.AdminBwst]))&&l.allUsersMultiSelect.push({value:n.id,label:n.firstname+" "+n.lastname}):l.allUsersMultiSelect.push({value:n.id,label:n.firstname+" "+n.lastname})}),this.showUser=!0},l.prototype.ngOnDestroy=function(){},l}(),S=i.qb({encapsulation:0,styles:[[".md-form[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1rem}.md-form[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{color:#e9241d!important}.form-control[_ngcontent-%COMP%]:focus, .md-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-bottom:1px solid #d7ccc8!important;box-shadow:0 1px 0 0 #d7ccc8!important}.md-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:14px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active, .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#e9241d!important}mdb-select[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute!important;font-size:.8rem!important;left:15px!important}.menu-color[_ngcontent-%COMP%]{color:#e9241d!important}.dropdown-menu[_ngcontent-%COMP%]{background-color:#e9241d!important;color:#fff!important}"]],data:{}});function O(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,11,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(3,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(l()(),i.sb(4,0,null,null,5,"mdb-select",[["formControlName","areParticipantsOrgs"]],[[8,"highlightFirst",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],["document","click"]],function(l,n,t){var e=!0,u=l.component;return"document:click"===n&&(e=!1!==i.Cb(l,5).closeSelect(t)&&e),"selected"===n&&(e=!1!==u.selectedOption(t)&&e),e},s.O,s.u)),i.rb(5,4833280,[[1,4],["optionSelect",4]],0,a.ic,[i.k,i.F,o.c,i.C],{options:[0,"options"]},{selected:"selected"}),i.Hb(1024,null,r.j,function(l){return[l]},[a.ic]),i.rb(7,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(9,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(10,0,null,null,1,"label",[["class","label-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Art der Teilnehmer ausw\xe4hlen "]))],function(l,n){l(n,5,0,n.component.participantOptions),l(n,7,0,"areParticipantsOrgs")},function(l,n){l(n,4,0,!1,i.Cb(n,9).ngClassUntouched,i.Cb(n,9).ngClassTouched,i.Cb(n,9).ngClassPristine,i.Cb(n,9).ngClassDirty,i.Cb(n,9).ngClassValid,i.Cb(n,9).ngClassInvalid,i.Cb(n,9).ngClassPending)})}function P(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,9,"div",[["class","row mt-5"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,8,"div",[["class"," col"]],null,null,null,null,null)),(l()(),i.sb(2,0,null,null,5,"mdb-select",[["class","colorful-select  dropdown-primary"],["formControlName","participants"],["id","userSelect"]],[[8,"highlightFirst",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[["document","click"]],function(l,n,t){var e=!0;return"document:click"===n&&(e=!1!==i.Cb(l,3).closeSelect(t)&&e),e},s.O,s.u)),i.rb(3,4833280,[[2,4],["userSelect",4]],0,a.ic,[i.k,i.F,o.c,i.C],{options:[0,"options"],multiple:[1,"multiple"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.ic]),i.rb(5,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(7,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(8,0,null,null,1,"label",[["class","label-color"],["for","userSelect"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Teilnehmer ausw\xe4hlen"]))],function(l,n){var t=n.component;l(n,3,0,t.allUsersMultiSelect,!t.isShift),l(n,5,0,"participants")},function(l,n){l(n,2,0,!1,i.Cb(n,7).ngClassUntouched,i.Cb(n,7).ngClassTouched,i.Cb(n,7).ngClassPristine,i.Cb(n,7).ngClassDirty,i.Cb(n,7).ngClassValid,i.Cb(n,7).ngClassInvalid,i.Cb(n,7).ngClassPending)})}function D(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,9,"div",[["class","row  mt-5"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,8,"div",[["class"," col"]],null,null,null,null,null)),(l()(),i.sb(2,0,null,null,5,"mdb-select",[["class","colorful-select  dropdown-primary"],["formControlName","participants"],["id","organsiationSelect"]],[[8,"highlightFirst",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[["document","click"]],function(l,n,t){var e=!0;return"document:click"===n&&(e=!1!==i.Cb(l,3).closeSelect(t)&&e),e},s.O,s.u)),i.rb(3,4833280,[[3,4],["organisationSelect",4]],0,a.ic,[i.k,i.F,o.c,i.C],{options:[0,"options"],multiple:[1,"multiple"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.ic]),i.rb(5,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(7,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(8,0,null,null,1,"label",[["class","label-color"],["for","organisationSelect"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Teilnehmer ausw\xe4hlen"]))],function(l,n){l(n,3,0,n.component.allOrganisationsMultiSelect,!0),l(n,5,0,"participants")},function(l,n){l(n,2,0,!1,i.Cb(n,7).ngClassUntouched,i.Cb(n,7).ngClassTouched,i.Cb(n,7).ngClassPristine,i.Cb(n,7).ngClassDirty,i.Cb(n,7).ngClassValid,i.Cb(n,7).ngClassInvalid,i.Cb(n,7).ngClassPending)})}function M(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,13,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(3,0,null,null,10,"div",[["class","md-form col"]],null,null,null,null,null)),(l()(),i.sb(4,0,null,null,7,"input",[["class","form-control "],["data-error","Min. 1 oder Max. 60 Teilnehmer"],["data-success"," "],["formControlName","maxParticipants"],["id","numberInputEx "],["mdbInputDirective",""],["name","maxParticipants"],["style","margin-bottom: 0px"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"],[null,"keydown"],[null,"cut"],[null,"paste"],[null,"drop"]],function(l,n,t){var e=!0;return"input"===n&&(e=!1!==i.Cb(l,5)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==i.Cb(l,5).onTouched()&&e),"compositionstart"===n&&(e=!1!==i.Cb(l,5)._compositionStart()&&e),"compositionend"===n&&(e=!1!==i.Cb(l,5)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==i.Cb(l,6).onChange(t.target.value)&&e),"input"===n&&(e=!1!==i.Cb(l,6).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==i.Cb(l,6).onTouched()&&e),"focus"===n&&(e=!1!==i.Cb(l,11).onfocus()&&e),"blur"===n&&(e=!1!==i.Cb(l,11).onblur()&&e),"change"===n&&(e=!1!==i.Cb(l,11).onchange()&&e),"input"===n&&(e=!1!==i.Cb(l,11).oniput()&&e),"keydown"===n&&(e=!1!==i.Cb(l,11).onkeydown(t)&&e),"cut"===n&&(e=!1!==i.Cb(l,11).oncut()&&e),"paste"===n&&(e=!1!==i.Cb(l,11).onpaste()&&e),"drop"===n&&(e=!1!==i.Cb(l,11).ondrop()&&e),e},null,null)),i.rb(5,16384,null,0,r.c,[i.F,i.k,[2,r.a]],null,null),i.rb(6,16384,null,0,r.u,[i.F,i.k],null,null),i.Hb(1024,null,r.j,function(l,n){return[l,n]},[r.c,r.u]),i.rb(8,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(10,16384,null,0,r.l,[[4,r.k]],null,null),i.rb(11,13451264,null,0,a.ub,[i.k,i.F,i.C],{mdbInputDirective:[0,"mdbInputDirective"]},null),(l()(),i.sb(12,0,null,null,1,"label",[["for","numberInputEx "]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Maximale Teilnehmer"]))],function(l,n){l(n,8,0,"maxParticipants"),l(n,11,0,"")},function(l,n){l(n,4,0,i.Cb(n,10).ngClassUntouched,i.Cb(n,10).ngClassTouched,i.Cb(n,10).ngClassPristine,i.Cb(n,10).ngClassDirty,i.Cb(n,10).ngClassValid,i.Cb(n,10).ngClassInvalid,i.Cb(n,10).ngClassPending)})}function w(l){return i.Mb(0,[i.Ib(671088640,1,{optionSelect:0}),i.Ib(671088640,2,{userSelect:0}),i.Ib(671088640,3,{organisationSelect:0}),(l()(),i.sb(3,0,null,null,11,"div",[["style","width: 90%"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,4).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,4).onReset()&&e),e},null,null)),i.rb(4,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(6,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.jb(16777216,null,null,1,null,O)),i.rb(8,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.jb(16777216,null,null,1,null,P)),i.rb(10,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.jb(16777216,null,null,1,null,D)),i.rb(12,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.jb(16777216,null,null,1,null,M)),i.rb(14,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,4,0,t.participantGroup),l(n,8,0,!t.isShift),l(n,10,0,t.showUser),l(n,12,0,t.showOrganisation),l(n,14,0,!t.isShift)},function(l,n){l(n,3,0,i.Cb(n,6).ngClassUntouched,i.Cb(n,6).ngClassTouched,i.Cb(n,6).ngClassPristine,i.Cb(n,6).ngClassDirty,i.Cb(n,6).ngClassValid,i.Cb(n,6).ngClassInvalid,i.Cb(n,6).ngClassPending)})}var F=function(){function l(l){this.changeDetector=l,this.myDatePickerOptions={closeAfterSelect:!0,dayLabels:{su:"Son",mo:"Mon",tu:"Die",we:"Mit",th:"Don",fr:"Fre",sa:"Sam"},dayLabelsFull:{su:"Sonntag",mo:"Montag",tu:"Dienstag",we:"Mittwoch",th:"Donnerstag",fr:"Freitag",sa:"Samstag"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},monthLabelsFull:{1:"Januar",2:"Februar",3:"M\xe4rz",4:"April",5:"Mai",6:"Juni",7:"Juli",8:"August",9:"September",10:"Oktober",11:"November",12:"Dezember"},todayBtnTxt:"Heute",clearBtnTxt:"L\xf6schen",closeBtnTxt:"Schliessen",dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",disableWeekends:!1,minYear:1e3,maxYear:9999,showTodayBtn:!0,showClearDateBtn:!0}}return l.prototype.ngOnInit=function(){},l.prototype.ngAfterViewInit=function(){console.log(this.toDate)},l.prototype.fromDateInputFieldChanged=function(l){console.log(l),this.changeDetector.detectChanges(),console.log(this.toDate),this.toDate.openBtnClicked(),console.log(this.dateGroup)},l.prototype.toDateChanged=function(l){console.log(l)},l}(),k=i.qb({encapsulation:0,styles:[[""]],data:{}});function V(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(3,0,null,null,8,"div",[["class","col md-form "]],null,null,null,null,null)),(l()(),i.sb(4,0,null,null,7,"mdb-date-picker",[["formControlName","deadLineString"],["name","mydate "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s.E,s.k)),i.Hb(512,null,a.Q,a.Q,[]),i.Hb(512,null,a.Ic,a.Ic,[]),i.rb(7,6864896,null,0,a.W,[i.k,i.F,a.Q,a.Ic,i.C],{options:[0,"options"],placeholder:[1,"placeholder"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.W]),i.rb(9,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(11,16384,null,0,r.l,[[4,r.k]],null,null)],function(l,n){l(n,7,0,n.component.myDatePickerOptions,"Deadline zum Eintragen"),l(n,9,0,"deadLineString")},function(l,n){l(n,4,0,i.Cb(n,11).ngClassUntouched,i.Cb(n,11).ngClassTouched,i.Cb(n,11).ngClassPristine,i.Cb(n,11).ngClassDirty,i.Cb(n,11).ngClassValid,i.Cb(n,11).ngClassInvalid,i.Cb(n,11).ngClassPending)})}function T(l){return i.Mb(0,[i.Ib(402653184,1,{toDate:0}),(l()(),i.sb(1,0,null,null,51,"div",[["style","width: 95%"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,2).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,2).onReset()&&e),e},null,null)),i.rb(2,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(4,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.jb(16777216,null,null,1,null,V)),i.rb(6,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(7,0,null,null,26,"div",[["class","row "]],null,null,null,null,null)),(l()(),i.sb(8,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(10,0,null,null,10,"div",[["class","col md-from"]],null,null,null,null,null)),(l()(),i.sb(11,0,null,null,9,"mdb-date-picker",[["formControlName","startDateString"],["id","fromDate"],["name","fromDate "],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"dateChanged"]],function(l,n,t){var i=!0;return"dateChanged"===n&&(i=!1!==l.component.fromDateInputFieldChanged(t)&&i),i},s.E,s.k)),i.rb(12,16384,null,0,r.q,[],{required:[0,"required"]},null),i.Hb(1024,null,r.i,function(l){return[l]},[r.q]),i.Hb(512,null,a.Q,a.Q,[]),i.Hb(512,null,a.Ic,a.Ic,[]),i.rb(16,6864896,[["fromDate",4]],0,a.W,[i.k,i.F,a.Q,a.Ic,i.C],{options:[0,"options"],placeholder:[1,"placeholder"]},{dateChanged:"dateChanged"}),i.Hb(1024,null,r.j,function(l){return[l]},[a.W]),i.rb(18,671744,null,0,r.f,[[3,r.b],[6,r.i],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(20,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(21,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(23,0,null,null,10,"div",[["class","col "]],null,null,null,null,null)),(l()(),i.sb(24,0,null,null,9,"mdb-date-picker",[["formControlName","endDateString"],["id","toDate"],["name","toDate "],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"dateChanged"]],function(l,n,t){var i=!0;return"dateChanged"===n&&(i=!1!==l.component.toDateChanged(t)&&i),i},s.E,s.k)),i.rb(25,16384,null,0,r.q,[],{required:[0,"required"]},null),i.Hb(1024,null,r.i,function(l){return[l]},[r.q]),i.Hb(512,null,a.Q,a.Q,[]),i.Hb(512,null,a.Ic,a.Ic,[]),i.rb(29,6864896,[[1,4],["toDate",4]],0,a.W,[i.k,i.F,a.Q,a.Ic,i.C],{options:[0,"options"],placeholder:[1,"placeholder"]},{dateChanged:"dateChanged"}),i.Hb(1024,null,r.j,function(l){return[l]},[a.W]),i.rb(31,671744,null,0,r.f,[[3,r.b],[6,r.i],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(33,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(34,0,null,null,18,"div",[["class","row "]],null,null,null,null,null)),(l()(),i.sb(35,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(37,0,null,null,6,"div",[["class","col md-form"]],null,null,null,null,null)),(l()(),i.sb(38,0,null,null,5,"mdb-time-picker",[["formControlName","startTimeString"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"touchmove"]],function(l,n,t){var e=!0;return"touchmove"===n&&(e=!1!==i.Cb(l,39).ontouchmove(t)&&e),e},s.A,s.g)),i.rb(39,6406144,[["fromTime",4]],0,a.z,[i.k,i.F,i.C],{twelvehour:[0,"twelvehour"],darktheme:[1,"darktheme"],placeholder:[2,"placeholder"],label:[3,"label"],buttonLabel:[4,"buttonLabel"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.z]),i.rb(41,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(43,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.sb(44,0,null,null,1,"span",[["class","m-auto required-color"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["*"])),(l()(),i.sb(46,0,null,null,6,"div",[["class","col md-form"]],null,null,null,null,null)),(l()(),i.sb(47,0,null,null,5,"mdb-time-picker",[["formControlName","endTimeString"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"touchmove"]],function(l,n,t){var e=!0;return"touchmove"===n&&(e=!1!==i.Cb(l,48).ontouchmove(t)&&e),e},s.A,s.g)),i.rb(48,6406144,null,0,a.z,[i.k,i.F,i.C],{twelvehour:[0,"twelvehour"],darktheme:[1,"darktheme"],placeholder:[2,"placeholder"],label:[3,"label"],buttonLabel:[4,"buttonLabel"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.z]),i.rb(50,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(52,16384,null,0,r.l,[[4,r.k]],null,null)],function(l,n){var t=n.component;l(n,2,0,t.dateGroup),l(n,6,0,!t.isShift),l(n,12,0,""),l(n,16,0,t.myDatePickerOptions,"(Datum) Von"),l(n,18,0,"startDateString"),l(n,25,0,""),l(n,29,0,t.myDatePickerOptions,"(Datum) Bis"),l(n,31,0,"endDateString"),l(n,39,0,!1,!1,"(Zeit) Von","24 Stunden","Fertig"),l(n,41,0,"startTimeString"),l(n,48,0,!1,!1,"(Zeit) Bis","24 Stunden","Fertig"),l(n,50,0,"endTimeString")},function(l,n){l(n,1,0,i.Cb(n,4).ngClassUntouched,i.Cb(n,4).ngClassTouched,i.Cb(n,4).ngClassPristine,i.Cb(n,4).ngClassDirty,i.Cb(n,4).ngClassValid,i.Cb(n,4).ngClassInvalid,i.Cb(n,4).ngClassPending),l(n,11,0,i.Cb(n,12).required?"":null,i.Cb(n,20).ngClassUntouched,i.Cb(n,20).ngClassTouched,i.Cb(n,20).ngClassPristine,i.Cb(n,20).ngClassDirty,i.Cb(n,20).ngClassValid,i.Cb(n,20).ngClassInvalid,i.Cb(n,20).ngClassPending),l(n,24,0,i.Cb(n,25).required?"":null,i.Cb(n,33).ngClassUntouched,i.Cb(n,33).ngClassTouched,i.Cb(n,33).ngClassPristine,i.Cb(n,33).ngClassDirty,i.Cb(n,33).ngClassValid,i.Cb(n,33).ngClassInvalid,i.Cb(n,33).ngClassPending),l(n,38,0,i.Cb(n,43).ngClassUntouched,i.Cb(n,43).ngClassTouched,i.Cb(n,43).ngClassPristine,i.Cb(n,43).ngClassDirty,i.Cb(n,43).ngClassValid,i.Cb(n,43).ngClassInvalid,i.Cb(n,43).ngClassPending),l(n,47,0,i.Cb(n,52).ngClassUntouched,i.Cb(n,52).ngClassTouched,i.Cb(n,52).ngClassPristine,i.Cb(n,52).ngClassDirty,i.Cb(n,52).ngClassValid,i.Cb(n,52).ngClassInvalid,i.Cb(n,52).ngClassPending)})}var A=function(){function l(){}return l.prototype.ngOnInit=function(){},l.prototype.checkVisibleState=function(){return!this.visibilityGroup.get("isVisible").value&&this.visibilityGroup.get("participantsVisible").value&&this.visibilityGroup.patchValue({participantsVisible:!1}),this.visibilityGroup.get("isVisible").value},l}(),U=i.qb({encapsulation:0,styles:[[""]],data:{}});function _(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,6,"mdb-checkbox",[["class","checkbox-teal"],["formControlName","participantsVisible"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s.z,s.f)),i.rb(1,638976,[[2,4],["showParticipants",4]],0,a.x,[],{class:[0,"class"],inline:[1,"inline"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.x]),i.rb(3,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(5,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.Kb(-1,0,["Sichtbar nur f\xfcr Admins"]))],function(l,n){l(n,1,0,"checkbox-teal",!0),l(n,3,0,"participantsVisible")},function(l,n){l(n,0,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function I(l){return i.Mb(0,[i.Ib(402653184,1,{isVisible:0}),i.Ib(671088640,2,{showParticipants:0}),(l()(),i.sb(2,0,null,null,12,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,6,"mdb-checkbox",[["class","checkbox-teal"],["formControlName","isVisible"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s.z,s.f)),i.rb(7,638976,[[1,4],["isVisible",4]],0,a.x,[],{class:[0,"class"],inline:[1,"inline"]},null),i.Hb(1024,null,r.j,function(l){return[l]},[a.x]),i.rb(9,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.y]],{name:[0,"name"]},null),i.Hb(2048,null,r.k,null,[r.f]),i.rb(11,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),i.Kb(-1,0,["Sichtbar f\xfcr andere"])),(l()(),i.jb(16777216,null,null,1,null,_)),i.rb(14,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,3,0,t.visibilityGroup),l(n,7,0,"checkbox-teal",!0),l(n,9,0,"isVisible"),l(n,14,0,t.checkVisibleState())},function(l,n){l(n,2,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending),l(n,6,0,i.Cb(n,11).ngClassUntouched,i.Cb(n,11).ngClassTouched,i.Cb(n,11).ngClassPristine,i.Cb(n,11).ngClassDirty,i.Cb(n,11).ngClassValid,i.Cb(n,11).ngClassInvalid,i.Cb(n,11).ngClassPending)})}var E=t("wd/R"),x=t("h8TB");function H(l){var n=l.get("startDateString").value,t=l.get("endDateString").value,i=l.get("startTimeString").value,e=l.get("endTimeString").value,u=l.get("type").value,r=E(t+" "+e,"DD.MM.YYYY HH:mm").toDate(),s=E(n+" "+i,"DD.MM.YYYY HH:mm").toDate(),a=E(n+" "+i,"DD.MM.YYYY HH:mm").toDate();a.setHours(18,0,0);var o=E(n+" "+i,"DD.MM.YYYY HH:mm").toDate();return o.setHours(6,0,0),o.setDate(o.getDate()+1),j(s)&&j(r)?E(s).isBefore(new Date)?{noHistoryAppointments:!0}:(console.log(s),console.log(r),E(s).isAfter(r)?{tooBig:!0}:!((u===v.a[v.a.Dienst]||u===v.a[v.a.MarktplatzDienst]||u===v.a[v.a.FreierDienst])&&s.getDay()>=1&&s.getDay()<=5)||E(s).isSameOrAfter(a,"hour")&&E(r).isSameOrBefore(o,"hour")?null:{onlyNightShiftsDuringWeek:!0}):(console.log("NO valid dates"),{noValidDate:!0})}function q(l){var n=l.get("participants").value,t=l.get("maxParticipants").value;return n.length>t?(l.get("maxParticipants").setErrors({tooMuchParticipants:!0}),{tooMuchParticipants:!0}):null}function Y(l){return"FreierDienst"!==l.get("type").value&&0===l.get("participants").value.length?{participantsRequired:!0}:null}function j(l){return l instanceof Date&&!isNaN(l.getTime())}var N=t("cx5N"),G=t("W7Hi"),K=t("9Za/"),z=function(){function l(l,n,t,i,e,u,s,a){this.fb=l,this.toast=n,this.appointmentService=t,this.sessionUser=i,this.router=e,this.route=u,this.organisationService=s,this.userService=a,this.allUsers=[],this.allOrganisations=[],this.activeView=0,this.titleError=" ",this.isShift=!1,this.descriptionError=" ",this.views=[!0,!1,!1,!1,!1],this.typeForm=l.group({type:["",[r.s.required]]}),this.miscForm=l.group({title:["",[r.s.required,r.s.maxLength(30)]],description:["",[r.s.maxLength(300)]]}),this.participantForm=l.group({participants:["",[r.s.required]],type:["",[r.s.required]],areParticipantsOrgs:["",[r.s.required]],maxParticipants:[" ",[r.s.max(60)]]},{validator:r.s.compose([Y,q])}),this.dateForm=l.group({type:["",[r.s.required]],deadLineString:[""],endDateString:["",r.s.required],startDateString:["",r.s.required],startTimeString:["",[r.s.required]],endTimeString:["",[r.s.required]]},{validator:r.s.compose([H])}),this.visibilityForm=l.group({isVisible:[""],participantsVisible:[""]})}return l.prototype.ngOnInit=function(){var l=this;this.fetchOrgs(),this.fetchUsers(),this._routeSubscription=this.route.queryParams.subscribe(function(n){n&&l.dateForm.patchValue({startDateString:n.date})}),this.visibilityForm.patchValue({isVisible:!1,participantsVisible:!1})},l.prototype.fetchOrgs=function(){var l=this;this._allOrgsSubscription=this.organisationService._allOrganisations.subscribe(function(n){l.allOrganisations=[],l.allOrganisations=n})},l.prototype.fetchUsers=function(){var l=this;this._allUsersSubscription=this.userService._allUsers.subscribe(function(n){l.allUsers=[],l.allUsers=n})},l.prototype.getType=function(l){this.typeForm.patchValue({type:l}),this.participantForm.patchValue({type:l}),this.dateForm.patchValue({type:l}),l===v.a[v.a.Dienst]||l===v.a[v.a.MarktplatzDienst]||l===v.a[v.a.FreierDienst]?(this.isShift=!0,this.participantForm.patchValue({areParticipantsOrgs:!1,participants:[]})):this.isShift=!1},l.prototype.areParticipantsOrgsChangeEvent=function(){var l=this;this._areParticipantsOrgsSubscription=this.participantForm.get("areParticipantsOrgs").valueChanges.subscribe(function(n){console.log(n),l.participantForm.patchValue({participants:[]})})},l.prototype.stepBack=function(){this.views[this.activeView]=!1,this.activeView-=1,this.views[this.activeView]=!0},l.prototype.nextView=function(){this.views[this.activeView]=!1,this.activeView+=1,this.views[this.activeView]=!0},l.prototype.stepForward=function(){var l=this;switch(this.activeView=this.views.findIndex(function(l){return!0===l}),this.activeView){case 0:this.typeForm.invalid?this.toast.error("Typ muss ausgew\xe4hlt werden"):this.nextView();break;case 1:this.miscForm.get("title").hasError("required")&&(this.titleError="Titel ist nicht ausgef\xfcllt"),this.miscForm.get("title").hasError("maxlength")&&(this.titleError="Nicht mehr als 30 Zeichen erlaubt"),this.miscForm.get("description").invalid&&(this.descriptionError="\xdcber 300 Zeichen"),this.miscForm.valid&&(this.nextView(),this.areParticipantsOrgsChangeEvent());break;case 2:console.log(this.participantForm),this.participantForm.hasError("participantsRequired")&&this.toast.error("Teilnehmer sind verpflichtend"),this.participantForm.hasError("tooMuchParticipants")&&this.toast.error("Bitte max. Anzahl der Teilnehmer erh\xf6hen"),this.participantForm.valid&&this.nextView();break;case 3:(this.dateForm.get("startDateString").hasError("required")||this.dateForm.get("startDateString").hasError("required"))&&this.toast.error("StartDatum und EndDatum sind verpflichtend"),this.dateForm.hasError("tooBig")&&this.toast.error("StartDatum > EndDatum nicht erlaubt"),this.dateForm.hasError("noHistoryAppointments")&&this.toast.error("StartDatum < heutiges Datum nicht erlaubt"),this.dateForm.hasError("onlyNightShiftsDuringWeek")&&this.toast.error("Zwischen Mo-Fr nur Nachtschichten zwischen 18-6 Uhr"),(this.dateForm.get("startTimeString").hasError("required")||this.dateForm.get("endTimeString").hasError("required"))&&this.toast.error("StartZeit und EndZeit sind verpflichtend"),this.dateForm.valid&&this.nextView();break;case 4:var n=[];this.participantForm.get("areParticipantsOrgs").value?this.participantForm.get("participants").value.forEach(function(t){n.push(l.allOrganisations.find(function(l){return l.id===t}))}):this.participantForm.get("participants").value.forEach(function(t){n.push(l.allUsers.find(function(l){return l.id===t}))}),this.participantForm.patchValue({participants:n});var t=this.sessionUser.getUser(),i=E(this.dateForm.get("deadLineString").value,"DD.MM.YYYY").toDate();this.isShift&&(t=this.participantForm.get("participants").value[0],this.participantForm.patchValue({participants:[]}),i=null);var e=E(this.dateForm.get("startDateString").value+" "+this.dateForm.get("startTimeString").value,"DD.MM.YYYY HH:mm").toDate(),u=E(this.dateForm.get("endDateString").value+" "+this.dateForm.get("endTimeString").value,"DD.MM.YYYY HH:mm").toDate(),r=new N.a(99999,this.miscForm.get("title").value,this.miscForm.get("description").value,e,u,this.participantForm.get("participants").value,this.participantForm.get("maxParticipants").value,i,this.visibilityForm.get("participantsVisible").value,t,this.typeForm.get("type").value,this.visibilityForm.get("isVisible").value,this.participantForm.get("areParticipantsOrgs").value);this.appointmentService._appointmentToAdd.next(r)}},l.prototype.ngOnDestroy=function(){this._routeSubscription.unsubscribe(),this._allOrgsSubscription.unsubscribe(),this._allUsersSubscription.unsubscribe(),this._areParticipantsOrgsSubscription.unsubscribe()},l}(),Q=t("ZYCi"),B=i.qb({encapsulation:0,styles:[["ul.stepper[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#00c851!important}ul.stepper[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#e9241d!important}.btn-color[_ngcontent-%COMP%]{background-color:#e9241d!important;color:#fff!important}"]],data:{}});function L(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,7,"div",[["class","step-content w-100"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(2,16384,null,0,r.w,[],null,null),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,1,"app-type-input",[],null,[[null,"typeEmitter"]],function(l,n,t){var i=!0;return"typeEmitter"===n&&(i=!1!==l.component.getType(t)&&i),i},d,p)),i.rb(7,770048,null,0,b,[c.a,i.h],{typeGroup:[0,"typeGroup"]},{typeEmitter:"typeEmitter"})],function(l,n){var t=n.component;l(n,3,0,t.typeForm),l(n,7,0,t.typeForm)},function(l,n){l(n,1,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function R(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,7,"div",[["class","step-content w-100"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(2,16384,null,0,r.w,[],null,null),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,1,"app-misc-input",[],null,null,null,C,m)),i.rb(7,638976,null,0,h,[],{titleError:[0,"titleError"],descriptionError:[1,"descriptionError"],miscGroup:[2,"miscGroup"]},null)],function(l,n){var t=n.component;l(n,3,0,t.miscForm),l(n,7,0,t.titleError,t.descriptionError,t.miscForm)},function(l,n){l(n,1,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function Z(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,7,"div",[["class","step-content w-100"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(2,16384,null,0,r.w,[],null,null),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,1,"app-participant-input",[],null,null,null,w,S)),i.rb(7,4964352,null,0,y,[i.h],{isShift:[0,"isShift"],participantGroup:[1,"participantGroup"],allUsers:[2,"allUsers"],allOrganisations:[3,"allOrganisations"]},null)],function(l,n){var t=n.component;l(n,3,0,t.participantForm),l(n,7,0,t.isShift,t.participantForm,t.allUsers,t.allOrganisations)},function(l,n){l(n,1,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function W(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,7,"div",[["class","step-content w-100"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(2,16384,null,0,r.w,[],null,null),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,1,"app-date-input",[],null,null,null,T,k)),i.rb(7,4308992,null,0,F,[i.h],{isShift:[0,"isShift"],dateGroup:[1,"dateGroup"]},null)],function(l,n){var t=n.component;l(n,3,0,t.dateForm),l(n,7,0,t.isShift,t.dateForm)},function(l,n){l(n,1,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function J(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,7,"div",[["class","step-content w-100"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,3).onReset()&&e),e},null,null)),i.rb(2,16384,null,0,r.w,[],null,null),i.rb(3,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(5,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(6,0,null,null,1,"app-visibility-input",[],null,null,null,I,U)),i.rb(7,114688,null,0,A,[],{visibilityGroup:[0,"visibilityGroup"]},null)],function(l,n){var t=n.component;l(n,3,0,t.visibilityForm),l(n,7,0,t.visibilityForm)},function(l,n){l(n,1,0,i.Cb(n,5).ngClassUntouched,i.Cb(n,5).ngClassTouched,i.Cb(n,5).ngClassPristine,i.Cb(n,5).ngClassDirty,i.Cb(n,5).ngClassValid,i.Cb(n,5).ngClassInvalid,i.Cb(n,5).ngClassPending)})}function X(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,42,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,41,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),i.sb(2,0,null,null,40,"ul",[["class","stepper stepper-vertical"]],null,null,null,null,null)),(l()(),i.sb(3,0,null,null,7,"li",[],[[2,"completed",null],[2,"active",null]],null,null,null,null)),(l()(),i.sb(4,0,null,null,4,"a",[],null,null,null,null,null)),(l()(),i.sb(5,0,null,null,1,"span",[["class","circle"]],[[2,"completed-color",null]],null,null,null,null)),(l()(),i.Kb(-1,null,["1"])),(l()(),i.sb(7,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Typ"])),(l()(),i.jb(16777216,null,null,1,null,L)),i.rb(10,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(11,0,null,null,7,"li",[],[[2,"completed",null],[2,"active",null]],null,null,null,null)),(l()(),i.sb(12,0,null,null,4,"a",[],null,null,null,null,null)),(l()(),i.sb(13,0,null,null,1,"span",[["class","circle"]],[[2,"completed-color",null]],null,null,null,null)),(l()(),i.Kb(-1,null,["2"])),(l()(),i.sb(15,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Titel"])),(l()(),i.jb(16777216,null,null,1,null,R)),i.rb(18,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(19,0,null,null,7,"li",[],[[2,"completed",null],[2,"active",null]],null,null,null,null)),(l()(),i.sb(20,0,null,null,4,"a",[],null,null,null,null,null)),(l()(),i.sb(21,0,null,null,1,"span",[["class","circle"]],[[2,"completed-color",null]],null,null,null,null)),(l()(),i.Kb(-1,null,["3"])),(l()(),i.sb(23,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Mitglieder"])),(l()(),i.jb(16777216,null,null,1,null,Z)),i.rb(26,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(27,0,null,null,7,"li",[],[[2,"completed",null],[2,"active",null]],null,null,null,null)),(l()(),i.sb(28,0,null,null,4,"a",[],null,null,null,null,null)),(l()(),i.sb(29,0,null,null,1,"span",[["class","circle"]],[[2,"completed-color",null]],null,null,null,null)),(l()(),i.Kb(-1,null,["4"])),(l()(),i.sb(31,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Datum"])),(l()(),i.jb(16777216,null,null,1,null,W)),i.rb(34,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(35,0,null,null,7,"li",[],[[2,"completed",null],[2,"active",null]],null,null,null,null)),(l()(),i.sb(36,0,null,null,4,"a",[],null,null,null,null,null)),(l()(),i.sb(37,0,null,null,1,"span",[["class","circle"]],[[2,"completed-color",null]],null,null,null,null)),(l()(),i.Kb(-1,null,["5"])),(l()(),i.sb(39,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["Sichtbarkeit"])),(l()(),i.jb(16777216,null,null,1,null,J)),i.rb(42,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(43,0,null,null,5,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),i.sb(44,0,null,null,4,"div",[["class","col-md-12 text-right"]],null,null,null,null,null)),(l()(),i.sb(45,0,null,null,1,"button",[["class","btn btn-flat btn-md"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.stepBack()&&i),i},null,null)),(l()(),i.Kb(-1,null,["Zur\xfcck"])),(l()(),i.sb(47,0,null,null,1,"button",[["class","btn btn-color btn-md"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.stepForward()&&i),i},null,null)),(l()(),i.Kb(-1,null,["Vorw\xe4rts"]))],function(l,n){var t=n.component;l(n,10,0,!0===t.views[0]),l(n,18,0,!0===t.views[1]),l(n,26,0,!0===t.views[2]),l(n,34,0,!0===t.views[3]),l(n,42,0,!0===t.views[4])},function(l,n){var t=n.component;l(n,3,0,t.activeView>0,0===t.activeView),l(n,5,0,t.activeView>0),l(n,11,0,t.activeView>1,1===t.activeView),l(n,13,0,t.activeView>1),l(n,19,0,t.activeView>2,2===t.activeView),l(n,21,0,t.activeView>2),l(n,27,0,t.activeView>3,3===t.activeView),l(n,29,0,t.activeView>3),l(n,35,0,t.activeView>4,4===t.activeView),l(n,37,0,t.activeView>4)})}function $(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,1,"app-add-appointment-wrapper",[],null,null,null,X,B)),i.rb(1,245760,null,0,z,[r.d,a.Dc,c.a,x.a,Q.n,Q.a,G.a,K.a],null,null)],function(l,n){l(n,1,0)},null)}var ll=i.ob("app-add-appointment-wrapper",z,$,{},{},[]),nl=function(){function l(l,n,t,i,e,u,s){this.toast=l,this.fb=n,this.sessionUser=t,this.route=i,this.appointmentService=e,this.userService=u,this.organisationService=s,this.allUsers=[],this.allOrganisations=[],this.activeView=0,this.titleError=" ",this.isShift=!1,this.descriptionError=" ",this.appTypes=v.a,this.miscForm=n.group({title:["",[r.s.required,r.s.maxLength(30)]],description:["",[r.s.maxLength(300)]]}),this.participantForm=n.group({participants:["",[r.s.required]],type:["",[r.s.required]],areParticipantsOrgs:["",[r.s.required]],maxParticipants:[" ",[r.s.max(60)]]},{validator:r.s.compose([Y,q])}),this.dateForm=n.group({type:["",[r.s.required]],deadLineString:[""],endDateString:["",r.s.required],startDateString:["",r.s.required],startTimeString:["",[r.s.required]],endTimeString:["",[r.s.required]]},{validator:r.s.compose([H])}),this.visibilityForm=n.group({isVisible:[""],participantsVisible:[""]})}return l.prototype.ngOnInit=function(){var l=this;this.fetchOrgs(),this.fetchUsers(),this._routeSubscription=this.route.queryParams.subscribe(function(n){if(n){var t=JSON.parse(n.AppointmentToUpdate);console.log(t),l._allAppointemntSubscription=l.appointmentService._allAppointments.subscribe(function(n){n.length>0&&(console.log(n),l.appointmentToUpdate=n.find(function(l){return t===l.id}),console.log(l.appointmentToUpdate),l.checkVals())})}})},l.prototype.checkVals=function(){if(this.id=this.appointmentToUpdate.id,this.type=this.appointmentToUpdate.type,this.type===v.a[v.a.Dienst]||this.type===v.a[v.a.MarktplatzDienst]||this.type===v.a[v.a.FreierDienst])this.participantForm.patchValue({participants:[this.appointmentToUpdate.owner.id]}),this.isShift=!0;else{this.isShift=!1;var l=[];this.appointmentToUpdate.participations.forEach(function(n){l.push(n.id)}),this.participantForm.patchValue({participants:l})}this.dateForm.patchValue({type:this.appointmentToUpdate.type}),this.participantForm.patchValue({type:this.appointmentToUpdate.type}),this.participantForm.patchValue(this.appointmentToUpdate.areParticipantsOrganisations?{areParticipantsOrgs:1}:{areParticipantsOrgs:2}),this.areParticipantsOrgsChangeEvent(),this.visibilityForm.patchValue({isVisible:this.appointmentToUpdate.isVisible,participantsVisible:this.appointmentToUpdate.showParticipants}),null!=this.appointmentToUpdate.deadline&&this.dateForm.patchValue({deadLineString:E(this.appointmentToUpdate.deadline).format("DD.MM.YYYY").toString()}),this.dateForm.patchValue({startDateString:E(this.appointmentToUpdate.from).format("DD.MM.YYYY").toString(),endDateString:E(this.appointmentToUpdate.to).format("DD.MM.YYYY").toString(),startTimeString:E(this.appointmentToUpdate.from).format("HH:mm").toString(),endTimeString:E(this.appointmentToUpdate.to).format("HH:mm").toString()}),this.participantForm.patchValue({maxParticipants:this.appointmentToUpdate.maxParticipants}),this.miscForm.patchValue({title:this.appointmentToUpdate.title,description:this.appointmentToUpdate.description})},l.prototype.areParticipantsOrgsChangeEvent=function(){var l=this;this._areParticipantsOrgsSubscription=this.participantForm.get("areParticipantsOrgs").valueChanges.subscribe(function(n){l.participantForm.patchValue({participants:[]})})},l.prototype.fetchOrgs=function(){var l=this;this._allOrgsSubscription=this.organisationService._allOrganisations.subscribe(function(n){l.allOrganisations=[],l.allOrganisations=n})},l.prototype.fetchUsers=function(){var l=this;this._allUsersSubscription=this.userService._allUsers.subscribe(function(n){l.allUsers=[],l.allUsers=n})},l.prototype.onSubmit=function(){var l=this;if(this.miscForm.get("title").hasError("required")&&(this.titleError="Titel ist nicht ausgef\xfcllt"),this.miscForm.get("title").hasError("maxlength")&&(this.titleError="Nicht mehr als 30 Zeichen erlaubt"),this.miscForm.get("description").invalid&&(this.descriptionError="\xdcber 300 Zeichen"),this.participantForm.hasError("participantsRequired")&&this.toast.error("Teilnehmer sind verpflichtend"),this.participantForm.hasError("tooMuchParticipants")&&this.toast.error("Bitte max. Anzahl der Teilnehmer erh\xf6hen"),(this.dateForm.get("startDateString").hasError("required")||this.dateForm.get("startDateString").hasError("required"))&&this.toast.error("StartDatum und EndDatum sind verpflichtend"),this.dateForm.hasError("tooBig")&&this.toast.error("StartDatum > EndDatum nicht erlaubt"),this.dateForm.hasError("noHistoryAppointments")&&this.toast.error("StartDatum < heutiges Datum nicht erlaubt"),this.dateForm.hasError("onlyNightShiftsDuringWeek")&&this.toast.error("Zwischen Mo-Fr nur Nachtschichten zwischen 18-6 Uhr"),(this.dateForm.get("startTimeString").hasError("required")||this.dateForm.get("endTimeString").hasError("required"))&&this.toast.error("StartZeit und EndZeit sind verpflichtend"),this.miscForm.valid&&this.dateForm.valid&&this.participantForm.valid){var n=[];1===this.participantForm.get("areParticipantsOrgs").value?(this.participantForm.get("participants").value.forEach(function(t){n.push(l.allOrganisations.find(function(l){return l.id===t}))}),this.participantForm.patchValue({areParticipantsOrgs:!0})):(this.participantForm.get("participants").value.forEach(function(t){n.push(l.allUsers.find(function(l){return l.id===t}))}),this.participantForm.patchValue({areParticipantsOrgs:!1})),this.participantForm.patchValue({participants:n});var t=this.sessionUser.getUser(),i=E(this.dateForm.get("deadLineString").value,"DD.MM.YYYY").toDate();this.isShift&&(t=this.participantForm.get("participants").value[0],this.participantForm.patchValue({participants:[]}),i=null);var e=E(this.dateForm.get("startDateString").value+" "+this.dateForm.get("startTimeString").value,"DD.MM.YYYY HH:mm").toDate(),u=E(this.dateForm.get("endDateString").value+" "+this.dateForm.get("endTimeString").value,"DD.MM.YYYY HH:mm").toDate(),r=new N.a(this.id,this.miscForm.get("title").value,this.miscForm.get("description").value,e,u,this.participantForm.get("participants").value,this.participantForm.get("maxParticipants").value,i,this.visibilityForm.get("participantsVisible").value,t,this.type,this.visibilityForm.get("isVisible").value,this.participantForm.get("areParticipantsOrgs").value);this.appointmentService.appointmentToUpdate.next(r)}},l.prototype.ngOnDestroy=function(){this._routeSubscription.unsubscribe(),this._allOrgsSubscription.unsubscribe(),this._allUsersSubscription.unsubscribe(),this._areParticipantsOrgsSubscription.unsubscribe()},l}(),tl=i.qb({encapsulation:0,styles:[["mdb-select[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute!important;font-size:.8rem!important;left:15px!important}.md-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:14px}#isVisible[_ngcontent-%COMP%]   .form-check-input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{border-right:2px solid #e9241d!important;border-bottom:2px solid #e9241d!important}.mydp[_ngcontent-%COMP%]{padding-top:0!important}.menu-color[_ngcontent-%COMP%]{color:#e9241d!important}.btn-color[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background-color:#e9241d!important;color:#fff!important}.btn-outline[_ngcontent-%COMP%]{border:4px solid #e9241d;color:#000}.md-form[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1rem}.required-color[_ngcontent-%COMP%]{color:#e9241d}.md-form[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{color:#e9241d!important}.form-control[_ngcontent-%COMP%]:focus, .md-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-bottom:1px solid #d7ccc8!important;box-shadow:0 1px 0 0 #d7ccc8!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active, .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#e9241d!important}"]],data:{}});function il(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,1,"app-participant-input",[],null,null,null,w,S)),i.rb(1,4964352,null,0,y,[i.h],{isShift:[0,"isShift"],participantGroup:[1,"participantGroup"],allUsers:[2,"allUsers"],allOrganisations:[3,"allOrganisations"]},null)],function(l,n){var t=n.component;l(n,1,0,t.isShift,t.participantForm,t.allUsers,t.allOrganisations)},null)}function el(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,2,"div",[["class","col mt-2 text-center"]],null,null,null,null,null)),(l()(),i.sb(1,0,null,null,1,"h3",[["class","h3 h3-responsive"]],null,null,null,null,null)),(l()(),i.Kb(2,null,["",""])),(l()(),i.sb(3,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,5).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,5).onReset()&&e),e},null,null)),i.rb(4,16384,null,0,r.w,[],null,null),i.rb(5,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(7,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(8,0,null,null,1,"app-misc-input",[],null,null,null,C,m)),i.rb(9,638976,null,0,h,[],{titleError:[0,"titleError"],descriptionError:[1,"descriptionError"],miscGroup:[2,"miscGroup"]},null),(l()(),i.sb(10,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,12).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,12).onReset()&&e),e},null,null)),i.rb(11,16384,null,0,r.w,[],null,null),i.rb(12,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(14,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.jb(16777216,null,null,1,null,il)),i.rb(16,16384,null,0,o.k,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(17,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,19).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,19).onReset()&&e),e},null,null)),i.rb(18,16384,null,0,r.w,[],null,null),i.rb(19,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(21,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(22,0,null,null,1,"app-date-input",[],null,null,null,T,k)),i.rb(23,4308992,null,0,F,[i.h],{isShift:[0,"isShift"],dateGroup:[1,"dateGroup"]},null),(l()(),i.sb(24,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==i.Cb(l,26).onSubmit(t)&&e),"reset"===n&&(e=!1!==i.Cb(l,26).onReset()&&e),e},null,null)),i.rb(25,16384,null,0,r.w,[],null,null),i.rb(26,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),i.Hb(2048,null,r.b,null,[r.g]),i.rb(28,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),i.sb(29,0,null,null,1,"app-visibility-input",[],null,null,null,I,U)),i.rb(30,114688,null,0,A,[],{visibilityGroup:[0,"visibilityGroup"]},null),(l()(),i.sb(31,0,null,null,3,"button",[["class","col btn btn-color waves-light"],["mdbWavesEffect",""]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==i.Cb(l,32).click(t)&&e),"click"===n&&(e=!1!==u.onSubmit()&&e),e},null,null)),i.rb(32,16384,null,0,a.Jc,[i.k],null,null),(l()(),i.sb(33,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),i.Kb(-1,null,["\xc4ndern"]))],function(l,n){var t=n.component;l(n,5,0,t.miscForm),l(n,9,0,t.titleError,t.descriptionError,t.miscForm),l(n,12,0,t.participantForm),l(n,16,0,""!==t.participantForm.get("participants").value),l(n,19,0,t.dateForm),l(n,23,0,t.isShift,t.dateForm),l(n,26,0,t.visibilityForm),l(n,30,0,t.visibilityForm)},function(l,n){l(n,2,0,n.component.type),l(n,3,0,i.Cb(n,7).ngClassUntouched,i.Cb(n,7).ngClassTouched,i.Cb(n,7).ngClassPristine,i.Cb(n,7).ngClassDirty,i.Cb(n,7).ngClassValid,i.Cb(n,7).ngClassInvalid,i.Cb(n,7).ngClassPending),l(n,10,0,i.Cb(n,14).ngClassUntouched,i.Cb(n,14).ngClassTouched,i.Cb(n,14).ngClassPristine,i.Cb(n,14).ngClassDirty,i.Cb(n,14).ngClassValid,i.Cb(n,14).ngClassInvalid,i.Cb(n,14).ngClassPending),l(n,17,0,i.Cb(n,21).ngClassUntouched,i.Cb(n,21).ngClassTouched,i.Cb(n,21).ngClassPristine,i.Cb(n,21).ngClassDirty,i.Cb(n,21).ngClassValid,i.Cb(n,21).ngClassInvalid,i.Cb(n,21).ngClassPending),l(n,24,0,i.Cb(n,28).ngClassUntouched,i.Cb(n,28).ngClassTouched,i.Cb(n,28).ngClassPristine,i.Cb(n,28).ngClassDirty,i.Cb(n,28).ngClassValid,i.Cb(n,28).ngClassInvalid,i.Cb(n,28).ngClassPending)})}function ul(l){return i.Mb(0,[(l()(),i.sb(0,0,null,null,1,"app-update-appointment-wrapper",[],null,null,null,el,tl)),i.rb(1,245760,null,0,nl,[a.Dc,r.d,x.a,Q.a,c.a,K.a,G.a],null,null)],function(l,n){l(n,1,0)},null)}var rl=i.ob("app-update-appointment-wrapper",nl,ul,{},{},[]),sl=t("sE5F"),al=function(){return function(){}}();t.d(n,"AddUpdateAppointmentModuleNgFactory",function(){return ol});var ol=i.pb(e,[],function(l){return i.zb([i.Ab(512,i.j,i.db,[[8,[u.a,ll,rl,s.a,s.c,s.d,s.y,s.e,s.b]],[3,i.j],i.y]),i.Ab(4608,o.m,o.l,[i.v,[2,o.y]]),i.Ab(4608,r.x,r.x,[]),i.Ab(4608,r.d,r.d,[]),i.Ab(4608,a.Hb,a.Hb,[]),i.Ab(4608,a.r,a.r,[]),i.Ab(4608,a.zb,a.zb,[]),i.Ab(4608,a.Rb,a.Rb,[]),i.Ab(4608,a.F,a.F,[i.j,i.A,i.r,a.Rb,i.g]),i.Ab(4608,a.j,a.j,[]),i.Ab(4608,a.Y,a.Y,[a.F,i.k,i.Q,i.F]),i.Ab(4608,a.Ec,a.Ec,[]),i.Ab(4608,a.Nb,a.Nb,[]),i.Ab(4608,sl.c,sl.c,[]),i.Ab(4608,sl.h,sl.b,[]),i.Ab(5120,sl.j,sl.k,[]),i.Ab(4608,sl.i,sl.i,[sl.c,sl.h,sl.j]),i.Ab(4608,sl.g,sl.a,[]),i.Ab(5120,sl.e,sl.l,[sl.i,sl.g]),i.Ab(5120,a.P,a.Lc,[]),i.Ab(5120,a.bc,a.Mc,[sl.e]),i.Ab(4608,a.E,a.E,[a.P,a.bc]),i.Ab(4608,a.Yb,a.Yb,[]),i.Ab(4608,a.hc,a.hc,[]),i.Ab(4608,a.xc,a.xc,[]),i.Ab(4608,a.Mb,a.Mb,[]),i.Ab(4608,a.ab,a.ab,[o.c]),i.Ab(1073742336,o.b,o.b,[]),i.Ab(1073742336,r.t,r.t,[]),i.Ab(1073742336,r.h,r.h,[]),i.Ab(1073742336,r.p,r.p,[]),i.Ab(1073742336,Q.o,Q.o,[[2,Q.u],[2,Q.n]]),i.Ab(1073742336,al,al,[]),i.Ab(1073742336,a.l,a.l,[]),i.Ab(1073742336,a.cc,a.cc,[]),i.Ab(1073742336,a.Kc,a.Kc,[]),i.Ab(1073742336,a.M,a.M,[]),i.Ab(1073742336,a.Gb,a.Gb,[]),i.Ab(1073742336,a.H,a.H,[]),i.Ab(1073742336,a.s,a.s,[]),i.Ab(1073742336,a.w,a.w,[]),i.Ab(1073742336,a.B,a.B,[]),i.Ab(1073742336,a.Db,a.Db,[]),i.Ab(1073742336,a.Hc,a.Hc,[]),i.Ab(1073742336,a.Qb,a.Qb,[]),i.Ab(1073742336,a.K,a.K,[]),i.Ab(1073742336,a.o,a.o,[]),i.Ab(1073742336,a.y,a.y,[]),i.Ab(1073742336,a.uc,a.uc,[]),i.Ab(1073742336,a.d,a.d,[]),i.Ab(1073742336,a.f,a.f,[]),i.Ab(1073742336,a.Nc,a.Nc,[]),i.Ab(1073742336,sl.f,sl.f,[]),i.Ab(1073742336,a.c,a.c,[]),i.Ab(1073742336,a.p,a.p,[]),i.Ab(1073742336,a.cb,a.cb,[]),i.Ab(1073742336,a.Pc,a.Pc,[]),i.Ab(1073742336,a.Qc,a.Qc,[]),i.Ab(1073742336,a.Zb,a.Zb,[]),i.Ab(1073742336,a.Sb,a.Sb,[]),i.Ab(1073742336,a.vc,a.vc,[]),i.Ab(1073742336,a.kc,a.kc,[]),i.Ab(1073742336,a.G,a.G,[]),i.Ab(1073742336,a.yc,a.yc,[]),i.Ab(1073742336,a.N,a.N,[]),i.Ab(1073742336,a.mc,a.mc,[]),i.Ab(1073742336,a.v,a.v,[]),i.Ab(1073742336,a.a,a.a,[]),i.Ab(1073742336,a.rc,a.rc,[]),i.Ab(1073742336,a.pc,a.pc,[]),i.Ab(1073742336,a.u,a.u,[]),i.Ab(1073742336,a.gc,a.gc,[]),i.Ab(1073742336,a.b,a.b,[]),i.Ab(1073742336,a.ac,a.ac,[]),i.Ab(1073742336,a.J,a.J,[]),i.Ab(1073742336,a.Ub,a.Ub,[]),i.Ab(1073742336,a.Oc,a.Oc,[]),i.Ab(1073742336,a.T,a.T,[]),i.Ab(1073742336,a.U,a.U,[]),i.Ab(1073742336,a.Z,a.Z,[]),i.Ab(1073742336,e,e,[]),i.Ab(1024,Q.l,function(){return[[{path:"add",component:z},{path:"update",component:nl}]]},[]),i.Ab(256,a.g,{autoClose:!0},[])])})}}]);