(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{MIOc:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),i=t("pMnS"),o=t("Ip0R"),s=function(){function n(){this.monthsWithShifts=[],this.changeSelectedMonth=new u.m}return n.prototype.ngOnInit=function(){},n.prototype.viewMonth=function(n){var l=this;null!=this.selectedMonth&&(this.monthsWithShifts.find(function(n){return l.selectedMonth.month===n.month}).selected=!1),this.selectedMonth=n,this.monthsWithShifts.find(function(l){return n.month===l.month}).selected=!0,this.changeSelectedMonth.emit(this.selectedMonth)},n}(),r=u.ob({encapsulation:0,styles:[[".bg-red[_ngcontent-%COMP%]{background-color:#ce2029!important}"]],data:{}});function c(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,12,"div",[["class","col-3 rounded"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.viewMonth(n.context.$implicit)&&u),u},null,null)),u.pb(1,278528,null,0,o.j,[u.s,u.t,u.k,u.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(2,{"bg-red":0}),(n()(),u.qb(3,0,null,null,3,"h6",[["class","h6-responsive text-center"]],null,null,null,null,null)),u.pb(4,278528,null,0,o.j,[u.s,u.t,u.k,u.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(5,{"text-white":0}),(n()(),u.Ib(6,null,["",""])),(n()(),u.qb(7,0,null,null,5,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),u.qb(8,0,null,null,4,"i",[["class","fas"]],null,null,null,null,null)),u.pb(9,278528,null,0,o.j,[u.s,u.t,u.k,u.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(10,{"fa-times":0,"fa-check":1,"text-white":2}),u.pb(11,278528,null,0,o.o,[u.t,u.k,u.D],{ngStyle:[0,"ngStyle"]},null),u.Db(12,{color:0})],function(n,l){var t=n(l,2,0,l.context.$implicit.selected);n(l,1,0,"col-3 rounded",t);var u=n(l,5,0,l.context.$implicit.selected);n(l,4,0,"h6-responsive text-center",u);var e=n(l,10,0,!l.context.$implicit.hasShifts,l.context.$implicit.hasShifts,l.context.$implicit.selected);n(l,9,0,"fas",e);var i=n(l,12,0,l.context.$implicit.hasShifts?"green":"red");n(l,11,0,i)},function(n,l){n(l,6,0,l.context.$implicit.month)})}function h(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,c)),u.pb(2,278528,null,0,o.k,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.monthsWithShifts)},null)}var a=t("cx5N"),f=function(){function n(){this.shiftsForMonth=[],this.distributeShifts=new u.m,this.checkColor=a.a.checkColor}return n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(n){n.hasShifts&&(this.hasShifts=n.hasShifts.currentValue),n.shiftsForMonth&&(this.shiftsForMonth=n.shiftsForMonth.currentValue),console.log(this.hasShifts),console.log(this.shiftsForMonth)},n}(),b=u.ob({encapsulation:0,styles:[[".color-height[_ngcontent-%COMP%]{height:1vh}"]],data:{}});function p(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u.Ib(1,null,[" (bis ",") "])),u.Eb(2,4)],null,function(n,l){var t=u.Jb(l,1,0,n(l,2,0,u.Ab(l.parent.parent.parent,0),l.parent.context.$implicit.to,"dd.MM.yyyy","","de-AT"));n(l,1,0,t)})}function d(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,16,"div",[],null,null,null,null,null)),(n()(),u.qb(2,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),u.qb(3,0,null,null,14,"div",[["class",""]],null,null,null,null,null)),(n()(),u.qb(4,0,null,null,13,"div",[["class"," z-depth-1 mb-1  list-group-item list-color rounded-left rounded-right"]],null,null,null,null,null)),(n()(),u.qb(5,0,null,null,9,"div",[["class","row  justify-content-between"],["style","height:100%; width: 100%"]],null,null,null,null,null)),(n()(),u.qb(6,0,null,null,2,"h5",[["class","col-md-6 col-sm-12 txtOverflow"]],null,null,null,null,null)),(n()(),u.qb(7,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),u.Ib(8,null,[""," "])),(n()(),u.qb(9,0,null,null,5,"p",[["class"," mb-0 col-md-6 col-sm-12 txtOverflow"]],null,null,null,null,null)),(n()(),u.Ib(10,null,[""," - "," "])),u.Eb(11,4),u.Eb(12,4),(n()(),u.hb(16777216,null,null,1,null,p)),u.pb(14,16384,null,0,o.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(15,0,null,null,2,"div",[["class","col-12 color-height"]],null,null,null,null,null)),u.pb(16,278528,null,0,o.o,[u.t,u.k,u.D],{ngStyle:[0,"ngStyle"]},null),u.Db(17,{"background-color":0})],function(n,l){var t=l.component;n(l,14,0,l.context.$implicit.moreDays);var u=n(l,17,0,t.checkColor(l.context.$implicit));n(l,16,0,u)},function(n,l){n(l,8,0,l.context.$implicit.title);var t=u.Jb(l,10,0,n(l,11,0,u.Ab(l.parent.parent,0),l.context.$implicit.from,"HH:mm","","de-AT")),e=u.Jb(l,10,1,n(l,12,0,u.Ab(l.parent.parent,0),l.context.$implicit.to,"HH:mm","","de-AT"));n(l,10,0,t,e)})}function m(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,d)),u.pb(2,278528,null,0,o.k,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.shiftsForMonth)},null)}function g(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(n()(),u.Ib(-1,null,["Noch keine Dienste f\xfcr diesen Monat zugwiesen!"])),(n()(),u.qb(3,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(n()(),u.qb(4,0,null,null,1,"button",[["class","btn btn-color btn-rounded"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.distributeShifts.emit()&&u),u},null,null)),(n()(),u.Ib(-1,null,[" Jetzt Zuweisen"]))],null,null)}function v(n){return u.Kb(0,[u.Cb(0,o.e,[u.u]),(n()(),u.hb(16777216,null,null,1,null,m)),u.pb(2,16384,null,0,o.l,[u.O,u.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u.hb(0,[["noShifts",2]],null,0,null,g))],function(n,l){n(l,2,0,l.component.hasShifts,u.Ab(l,3))},null)}var S=t("3Owf"),y=t("UkzC"),M=t("LvDl"),w=t("wd/R"),k=t("K52H"),x=function(){function n(n,l){this.appointmentService=n,this.navbarButtons=l,this.monthsWithShifts=[],this.shiftsForMonth=[],this.currentDate=Date.now()}return n.prototype.ngOnInit=function(){var n=this;this.navbarButtons.changeToShiftDistributionView(),this._allAppointmentsSubscription=this.appointmentService._allAppointments.subscribe(function(l){n.monthsWithShifts=[];var t=l.filter(function(n){return n.type!==y.a[y.a.FreierDienst]&&n.type!==y.a[y.a.Vollversammlung]});n.allShifts=M.groupBy(t,function(n){return w(n.from).format("MMMM")}),w.months().forEach(function(l){n.allShifts.hasOwnProperty(l)?n.monthsWithShifts.push({month:l,hasShifts:!0,selected:!1}):n.monthsWithShifts.push({month:l,hasShifts:!1,selected:!1})})})},n.prototype.changeSelectedMonth=function(n){this.shiftsForMonth=[],this.selectedMonth=n,n.hasShifts&&(this.shiftsForMonth=this.allShifts[this.selectedMonth.month])},n.prototype.distributeShifts=function(){return n=this,void 0,t=function(){return function(n,l){var t,u,e,i,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,u&&(e=2&i[0]?u.return:i[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,i[1])).done)return e;switch(u=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,u=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(6===i[0]&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(s){i=[6,s],u=0}finally{t=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(n){switch(n.label){case 0:return console.log(this.selectedMonth),[4,this.appointmentService.distributeShifts(+w().month(this.selectedMonth.month).format("M")).toPromise()];case 1:return n.sent(),[2]}})},new((l=void 0)||(l=Promise))(function(u,e){function i(n){try{s(t.next(n))}catch(l){e(l)}}function o(n){try{s(t.throw(n))}catch(l){e(l)}}function s(n){n.done?u(n.value):new l(function(l){l(n.value)}).then(i,o)}s((t=t.apply(n,[])).next())});var n,l,t},n.prototype.ngOnDestroy=function(){this._allAppointmentsSubscription.unsubscribe()},n}(),q=u.ob({encapsulation:0,styles:[[""]],data:{}});function I(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"app-shift-distribution-months",[],null,[[null,"changeSelectedMonth"]],function(n,l,t){var u=!0;return"changeSelectedMonth"===l&&(u=!1!==n.component.changeSelectedMonth(t)&&u),u},h,r)),u.pb(1,114688,null,0,s,[],{monthsWithShifts:[0,"monthsWithShifts"]},{changeSelectedMonth:"changeSelectedMonth"})],function(n,l){n(l,1,0,l.component.monthsWithShifts)},null)}function O(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,2,"h4",[["class","divider-new"]],null,null,null,null,null)),(n()(),u.Ib(1,null,["",", ",""])),u.Eb(2,4)],null,function(n,l){var t=l.component,e=t.selectedMonth.month,i=u.Jb(l,1,1,n(l,2,0,u.Ab(l.parent,0),t.currentDate,"yyyy","","de-AT"));n(l,1,0,e,i)})}function D(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"app-shift-distribution-shifts",[],null,[[null,"distributeShifts"]],function(n,l,t){var u=!0;return"distributeShifts"===l&&(u=!1!==n.component.distributeShifts()&&u),u},v,b)),u.pb(1,638976,null,0,f,[],{hasShifts:[0,"hasShifts"],shiftsForMonth:[1,"shiftsForMonth"]},{distributeShifts:"distributeShifts"})],function(n,l){var t=l.component;n(l,1,0,t.selectedMonth.hasShifts,t.shiftsForMonth)},null)}function F(n){return u.Kb(0,[u.Cb(0,o.e,[u.u]),(n()(),u.hb(16777216,null,null,1,null,I)),u.pb(2,16384,null,0,o.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,O)),u.pb(4,16384,null,0,o.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,D)),u.pb(6,16384,null,0,o.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,0!=t.monthsWithShifts.length),n(l,4,0,null!=t.selectedMonth),n(l,6,0,null!=t.selectedMonth)},null)}function C(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"app-shift-distribution-wrapper",[],null,null,null,F,q)),u.pb(1,245760,null,0,x,[S.a,k.a],null,null)],function(n,l){n(l,1,0)},null)}var $=u.mb("app-shift-distribution-wrapper",x,C,{},{},[]),K=t("ZYCi"),A=function(){return function(){}}();t.d(l,"ShiftDistributionModuleNgFactory",function(){return W});var W=u.nb(e,[],function(n){return u.xb([u.yb(512,u.j,u.bb,[[8,[i.a,$]],[3,u.j],u.x]),u.yb(4608,o.n,o.m,[u.u,[2,o.z]]),u.yb(1073742336,o.c,o.c,[]),u.yb(1073742336,K.p,K.p,[[2,K.v],[2,K.n]]),u.yb(1073742336,A,A,[]),u.yb(1073742336,e,e,[]),u.yb(1024,K.l,function(){return[[{path:"",component:x}]]},[])])})}}]);